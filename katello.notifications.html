<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>katello.notifications documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Katello.auto 1.0.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="katello.html"><span>katello</span></a></li><li><a href="katello.activation-keys.html"><span>katello.activation-keys</span></a></li><li><a href="katello.changesets.html"><span>katello.changesets</span></a></li><li><a href="katello.client.html"><span>katello.client</span></a></li><li><a href="katello.client.provision.html"><span>katello.client.provision</span></a></li><li><a href="katello.conf.html"><span>katello.conf</span></a></li><li><a href="katello.content-search.html"><span>katello.content-search</span></a></li><li><a href="katello.content-view-definitions.html"><span>katello.content-view-definitions</span></a></li><li><a href="katello.distributors.html"><span>katello.distributors</span></a></li><li><a href="katello.environments.html"><span>katello.environments</span></a></li><li><a href="katello.fake-content.html"><span>katello.fake-content</span></a></li><li><a href="katello.gpg-keys.html"><span>katello.gpg-keys</span></a></li><li><a href="katello.login.html"><span>katello.login</span></a></li><li><a href="katello.manifest.html"><span>katello.manifest</span></a></li><li><a href="katello.menu.html"><span>katello.menu</span></a></li><li><a href="katello.navigation.html"><span>katello.navigation</span></a></li><li class="current"><a href="katello.notifications.html"><span>katello.notifications</span></a></li><li><a href="katello.organizations.html"><span>katello.organizations</span></a></li><li><a href="katello.providers.html"><span>katello.providers</span></a></li><li><a href="katello.repositories.html"><span>katello.repositories</span></a></li><li><a href="katello.rest.html"><span>katello.rest</span></a></li><li><a href="katello.roles.html"><span>katello.roles</span></a></li><li><a href="katello.setup.html"><span>katello.setup</span></a></li><li><a href="katello.subscriptions.html"><span>katello.subscriptions</span></a></li><li><a href="katello.sync-management.html"><span>katello.sync-management</span></a></li><li><a href="katello.system-groups.html"><span>katello.system-groups</span></a></li><li><a href="katello.systems.html"><span>katello.systems</span></a></li><li><a href="katello.tasks.html"><span>katello.tasks</span></a></li><li><a href="katello.tests.activation-keys.html"><span>katello.tests.activation-keys</span></a></li><li><a href="katello.tests.content-search.html"><span>katello.tests.content-search</span></a></li><li><a href="katello.tests.content-views.html"><span>katello.tests.content-views</span></a></li><li><a href="katello.tests.distributors.html"><span>katello.tests.distributors</span></a></li><li><a href="katello.tests.e2e.html"><span>katello.tests.e2e</span></a></li><li><a href="katello.tests.environments.html"><span>katello.tests.environments</span></a></li><li><a href="katello.tests.login.html"><span>katello.tests.login</span></a></li><li><a href="katello.tests.navigation.html"><span>katello.tests.navigation</span></a></li><li><a href="katello.tests.organizations.html"><span>katello.tests.organizations</span></a></li><li><a href="katello.tests.permissions.html"><span>katello.tests.permissions</span></a></li><li><a href="katello.tests.promotions.html"><span>katello.tests.promotions</span></a></li><li><a href="katello.tests.promotions.html"><span>katello.tests.promotions</span></a></li><li><a href="katello.tests.providers.html"><span>katello.tests.providers</span></a></li><li><a href="katello.tests.providers.custom.html"><span>katello.tests.providers.custom</span></a></li><li><a href="katello.tests.search.html"><span>katello.tests.search</span></a></li><li><a href="katello.tests.suite.html"><span>katello.tests.suite</span></a></li><li><a href="katello.tests.sync_management.html"><span>katello.tests.sync_management</span></a></li><li><a href="katello.tests.system-groups.html"><span>katello.tests.system-groups</span></a></li><li><a href="katello.tests.systems.html"><span>katello.tests.systems</span></a></li><li><a href="katello.tests.useful.html"><span>katello.tests.useful</span></a></li><li><a href="katello.tests.users.html"><span>katello.tests.users</span></a></li><li><a href="katello.ui.html"><span>katello.ui</span></a></li><li><a href="katello.ui-common.html"><span>katello.ui-common</span></a></li><li><a href="katello.users.html"><span>katello.users</span></a></li><li><a href="katello.validation.html"><span>katello.validation</span></a></li><li><a href="selenium-server.html"><span>selenium-server</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="katello.notifications.html#var-check-for-success"><span>check-for-success</span></a></li><li><a href="katello.notifications.html#var-error%3F"><span>error?</span></a></li><li><a href="katello.notifications.html#var-known-errors"><span>known-errors</span></a></li><li><a href="katello.notifications.html#var-matching-errors"><span>matching-errors</span></a></li><li><a href="katello.notifications.html#var-notifications"><span>notifications</span></a></li><li><a href="katello.notifications.html#var-success%3F"><span>success?</span></a></li><li><a href="katello.notifications.html#var-validation-errors"><span>validation-errors</span></a></li><li><a href="katello.notifications.html#var-verify-no-error"><span>verify-no-error</span></a></li><li><a href="katello.notifications.html#var-verify-success"><span>verify-success</span></a></li><li><a href="katello.notifications.html#var-wait-for-notification-gone"><span>wait-for-notification-gone</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>katello.notifications documentation</h2><pre class="doc"></pre><div class="public" id="var-check-for-success"><h3>check-for-success</h3><div class="usage"><code>(check-for-success &amp; [{:keys [timeout-ms match-pred], :or {timeout-ms 2000, match-pred (constantly true)}}])</code></div><pre class="doc">Returns notification information from the UI. Will wait up to
timeout-ms (defaults to 2000) for any notificaiton to appear. Takes
an optional predicate to filter notifications (any filtered
notifications are ignored as if they didn't exist). If no
notifications are collected, an exception is thrown. If
notifications are collected and none are errors, they are returned.
If any are errors, an exception is thrown containing all
notifications.</pre></div><div class="public" id="var-error%3F"><h3>error?</h3><div class="usage"></div><pre class="doc">Returns a function that returns true if the given notification is an 'error'
type notification (aka gray notification in the UI).</pre></div><div class="public" id="var-known-errors"><h3>known-errors</h3><div class="usage"></div><pre class="doc">A mapping of known errors in Katello. This helps
automation throw and catch the right type of exception interally,
taking UI error messages and mapping them to internal error types.</pre></div><div class="public" id="var-matching-errors"><h3>matching-errors</h3><div class="usage"><code>(matching-errors notifSet)</code></div><pre class="doc">Returns a set of matching known errors
</pre></div><div class="public" id="var-notifications"><h3>notifications</h3><div class="usage"><code>(notifications)</code></div><pre class="doc">Gets all notifications from the page, returns a list of maps
representing the notifications. Waits for timeout-ms for at least
one notification to appear. Does not do any extra waiting after the
first notification is detected. Default timeout is 15 seconds.</pre></div><div class="public" id="var-success%3F"><h3>success?</h3><div class="usage"></div><pre class="doc">Returns a function that returns true if the given notification is a 'success'
type notification (aka green notification in the UI).</pre></div><div class="public" id="var-validation-errors"><h3>validation-errors</h3><div class="usage"></div><pre class="doc">All the different validation error messages that Katello
can throw. The keys are keywords that can be used to
refer to this type of error, and the values are regexes
that match the error notification message in the UI.</pre></div><div class="public" id="var-verify-no-error"><h3>verify-no-error</h3><div class="usage"><code>(verify-no-error &amp; [{:keys [timeout-ms match-pred], :or {match-pred (constantly true)}, :as m}])</code></div><pre class="doc">Waits for a notification up to the optional timeout (in ms), throws
an exception if error notification appears.</pre></div><div class="public" id="var-verify-success"><h3>verify-success</h3><div class="usage"><code>(verify-success task-fn)</code></div><pre class="doc">Calls task-fn and checks for a success message afterwards. If none
is found, or error notifications appear, throws an exception.</pre></div><div class="public" id="var-wait-for-notification-gone"><h3>wait-for-notification-gone</h3><div class="usage"><code>(wait-for-notification-gone &amp; [max-wait-ms])</code></div><pre class="doc">Waits for a notification to disappear within the timeout period. If no
notification is present, the function returns immediately. The default
timeout is 3 seconds.</pre></div></div></body></html>